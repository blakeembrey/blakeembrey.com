<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><title data-react-helmet="true">FaceTime Auto Answer • Blake Embrey</title><meta data-react-helmet="true" name="description" content="A personally curated collection of words hosted in cyberspace for an indeterminate duration."/><style data-react-free-style="true">::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}audio:not([controls]){display:none;height:0}b,strong{font-weight:inherit;font-weight:bolder}button,html [type="button"], [type="reset"],[type="submit"]{-webkit-appearance:button}button,input{overflow:visible}button,input,optgroup,select,textarea{margin:0}button,select{text-transform:none}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}audio,video,canvas{display:inline-block}dfn{font-style:italic}article,aside,footer,header,nav,section,details,menu,figcaption,figure,main{display:block}figure{margin:1em 40px}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.15}img{border-style:none}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}mark{background-color:#ff0;color:#000}code,kbd,samp,pre{font-family:monospace, monospace;font-size:1em}progress{display:inline-block;vertical-align:baseline}small{font-size:80%}sub{bottom:-0.25em}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}summary{display:list-item}sup{top:-0.5em}svg:not(:root){overflow:hidden}[hidden],template{display:none}textarea{overflow:auto}*{box-sizing:border-box}.hljs-addition{background:#dfd}.hljs-attribute,.hljs-variable,.hljs-body{color:#008080}.hljs-change{background:#0086b3}.hljs-class .hljs-title,.hljs-type,.hljs-literal,.hljs-command{color:#458;font-weight:500}.hljs-deletion{background:#fdd}.hljs-header,.hljs-comment,.hljs-javadoc{color:#969896}.hljs-keyword,.hljs-winutils,.hljs-subst,.hljs-request,.hljs-status{color:#a71d5d}.hljs-built_in,.hljs-number,.hljs-hexcolor,.hljs-constant{color:#0086b3}.hljs-preprocessor,.hljs-pragma,.hljs-pi,.hljs-doctype,.hljs-shebang,.hljs-cdata{color:#999;font-weight:500}.hljs-regexp{color:#009926}.hljs-string,.hljs-tag .hljs-value,.hljs-phpdoc,.hljs-dartdoc,.hljs-formula{color:#df5000}.hljs-symbol,.hljs-symbol .hljs-string,.hljs-special,.hljs-prompt{color:#990073}.hljs-tag,.hljs-tag .hljs-title,.hljs-rules .hljs-property{color:#000080}.hljs-title,.hljs-id,.hljs-preprocessor{color:#795da3}a{border-bottom:2px solid #dcdcdc;color:#111;text-decoration:none}a:hover{border-bottom-color:#f20}body{color:#111;font-family:sans-serif;font-size:17px;font-weight:300;line-height:1.7;margin:0}pre .diff-addition{background-color:#dfd}.hljs-chunk,pre .diff-chunk{color:#aaa}pre .diff-deletion{background-color:#fdd}.f1evzss3{border-top:4px solid #f20}.fsclf6o{margin:0 auto;max-width:640px;padding:20px}.f5tm013{margin:0;padding:30px 0}.f5tm013 > li{display:inline-block;list-style:none;margin-right:20px}.f5qoj4b{border-bottom-color:transparent;color:#333}.f13o7dmr h1, h2, h3, h4, h5, h6{font-weight:500}.f13o7dmr h1{font-size:1.7em}.f13o7dmr h2{font-size:1.3em}.f13o7dmr h3{font-size:1.1em}.f13o7dmr hr{border-bottom:1px dashed #fff;border-top:1px dashed #aaa;display:block;margin:1.5em 0}.f13o7dmr blockquote{border-left:4px solid #f20;margin:1em 0;padding-left:1em}.f13o7dmr img,audio,embed,video,object{height:auto;max-width:100%}.f13o7dmr code, pre{background-color:#f3f3f3;border:1px solid #ccc;color:#111;font-family:monospace;font-size:0.9em}.f13o7dmr pre{line-height:1.3;overflow-x:auto;padding:0.6em 0.8em}.f13o7dmr code{border-color:#ccc;display:inline;padding:0 0.3em;white-space:pre-line;word-wrap:break-word}.f13o7dmr pre > code{background-color:transparent;border:none;font-size:100%;padding:0;white-space:pre;word-wrap:normal}.f13o7dmr a:hover > code{border-color:#f20}.f1ymzfbz{color:#777;font-size:0.85em;margin:1.5em 0;padding:0}.f1ymzfbz > li > a{color:#777}.f1ymzfbz > li{display:inline-block;list-style:none;padding-right:20px}</style></head><body><div id="react-mount"><div data-reactroot="" data-reactid="1" data-react-checksum="-1202043971"><!-- react-empty: 2 --><div class="f1evzss3" data-reactid="3"></div><div class="fsclf6o" data-reactid="4"><ul class="f5tm013" data-reactid="5"><li data-reactid="6"><a class="f5qoj4b" href="/" data-reactid="7">Blog</a></li><li data-reactid="8"><a class="f5qoj4b" href="http://blakeembrey.me" data-reactid="9">About</a></li><li data-reactid="10"><a class="f5qoj4b" href="/rss.xml" data-reactid="11">RSS</a></li></ul><div class="f13o7dmr" data-reactid="12"><div data-reactid="13"><!-- react-empty: 14 --><h1 data-reactid="15">FaceTime Auto Answer</h1><ul class="f1ymzfbz" data-reactid="16"><li data-reactid="17"><!-- react-text: 18 -->Written<!-- /react-text --><!-- react-text: 19 --> <!-- /react-text --><time datetime="2015-06-20T09:00:00.000Z" data-reactid="20">June 2015</time></li></ul><div data-reactid="21"><p>I talk with my girlfriend most days. Sometimes multiple times a day. We’re in a long distance relationship and, at times, completely different time zones. One habit we wanted to pick up was being able to see each other at any time.</p>
<p>For this to work, we need to be able to auto answer each others calls. One of us could be busy working, but we still wanted to be able to see each other. After days of exploring how to make this happen, I come up with some solutions:</p>
<ol>
<li>Create new Skype accounts just for each other and enable auto answer on those accounts.</li>
<li>Keep a Google Hangouts room alive that we can both join at any time.</li>
<li>Create our own video chat platform using WebRTC that will fulfil our needs.</li>
</ol>
<p>Being the nerd I am, the third option sounded the most fun! From all my research, however, I was amazed no one had implemented a feature so simple into their product. Each of these options have their own drawbacks.</p>
<ol>
<li>I need to sign in and out between accounts (an issue for us since we work and live on our computers).</li>
<li>Google Hangouts prompts after inactivity and kicks the user from the chat.</li>
<li>Time.</li>
</ol>
<p>Eventually, I stumbled upon the magic bullet - FaceTime has an option built in to auto answer (<code>defaults write com.apple.FaceTime AutoAcceptInvitesFrom -array-add hello@blakeembrey.com</code>). It “works”, but it comes with even more issues. For example, when you receive a call there is a black overlay over the video call which makes visibility difficult. On a second test, we discovered that it rings infinitely. Well, so much for that.</p>
<p>At this point, we gave up and Keyue needed to sleep. I decided to continue research the following day when she was at work (my night time) and discovered some people had written an AppleScript for this years ago. I stayed up until 4am trying to create a new AppleScript, hacking away in a forgiving syntax I had no idea how to use without the use of Google.</p>
<h2>Implementation</h2>
<p>Let’s start by opening the “Script Editor” application. Copy and paste the following code into the editor, changing the caller id check to your desired caller. This the caller that is shown next to the profile image and accept button during ringing. For me, Keyue Bao is a contact so I can use her name. If they aren’t a contact, you’ll need to type the specific email or phone number here.</p>
<pre><code class="language-applescript"><span class="hljs-keyword">set</span> contacts <span class="hljs-keyword">to</span> {<span class="hljs-string">"Keyue Bao"</span>}

<span class="hljs-keyword">repeat</span>
  <span class="hljs-keyword">repeat</span> <span class="hljs-keyword">while</span> <span class="hljs-built_in">application</span> <span class="hljs-string">"FaceTime"</span> <span class="hljs-keyword">is</span> <span class="hljs-built_in">running</span>
    <span class="hljs-keyword">tell</span> <span class="hljs-built_in">application</span> <span class="hljs-string">"System Events"</span>
      <span class="hljs-keyword">tell</span> process <span class="hljs-string">"FaceTime"</span>
        <span class="hljs-keyword">set</span> acceptButton <span class="hljs-keyword">to</span> <span class="hljs-keyword">a reference</span> <span class="hljs-keyword">to</span> (button <span class="hljs-string">"Accept"</span> <span class="hljs-keyword">of</span> window <span class="hljs-number">1</span>)

        <span class="hljs-keyword">if</span> acceptButton exists <span class="hljs-keyword">then</span>
          <span class="hljs-keyword">set</span> callerId <span class="hljs-keyword">to</span> value <span class="hljs-keyword">of</span> static <span class="hljs-built_in">text</span> <span class="hljs-number">2</span> <span class="hljs-keyword">of</span> window <span class="hljs-number">1</span>

          <span class="hljs-keyword">if</span> contacts <span class="hljs-keyword">contains</span> callerId <span class="hljs-keyword">then</span>
            click acceptButton
          <span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>
        <span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>
      <span class="hljs-keyword">end</span> <span class="hljs-keyword">tell</span>
    <span class="hljs-keyword">end</span> <span class="hljs-keyword">tell</span>
    <span class="hljs-built_in">delay</span> <span class="hljs-number">2</span>
  <span class="hljs-keyword">end</span> <span class="hljs-keyword">repeat</span>
  <span class="hljs-built_in">delay</span> <span class="hljs-number">5</span>
<span class="hljs-keyword">end</span> <span class="hljs-keyword">repeat</span>
</code></pre>
<p>The script runs on an infinite loop. There is a delay of 5 seconds when the application is closed and 2 seconds when the application is open. It attempts to select the “answer” button on the screen and, if it exists, it checks the caller id and clicks answer. Pretty simple.</p>
<p>Next we want to export the script for execution. Navigate to <code>File -&gt; Export</code> and save it somewhere you can remember it. For me, it was as <code>Documents/Scripts/facetime-auto-answer</code>. You need this path for the next step.</p>
<p>Let’s create a Launchd script to handle execution on computer start up. Navigate to <code>~/Library/LaunchAgents</code> using Terminal (open Terminal and enter <code>cd ~/Library/LaunchAgents</code>). After that, that’s add our file (below) as <code>com.blakeembrey.facetime-auto-answer.plist</code> (just <code>vi com.blakeembrey.facetime-auto-answer.plist</code> and hit <code>i</code> to switch to insert mode).</p>
<pre><code class="language-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">plist</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Label<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>com.blakeembrey.FaceTimeAutoAnswer<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Program<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>/usr/bin/osascript<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>ProgramArguments<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>osascript<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>/Users/blakeembrey/Scripts/facetime-auto-answer.scpt<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>RunAtLoad<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>KeepAlive<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plist</span>&gt;</span>
</code></pre>
<p>Make sure you adjust the argument above to the correct path from the export step. Once it’s correct, exit back to the terminal (<code>Esc</code>, <code>:wq</code>, <code>Enter</code>) and make Launchd pick up the new script without rebooting.</p>
<pre><code>launchctl load -w com.blakeembrey.facetime-auto-answer.plist
</code></pre>
<p>You’ll need to accept the accessibility dialog (open system preferences and enable access). We can quickly check that the script is running by entering <code>launchctl list | grep facetime-auto-answer</code>. And we’re done.</p>
<h2>Conclusion</h2>
<p>FaceTime is really nice for video chatting. It disables automatically when you’re in a different window (I regularly use up to 6 windows during a work day for different tasks) and the interface is very simple to use. The video quality is great and, when the call drops temporarily it will automatically join the call again (with the video still enabled - looking at you Skype!). On top of that, it has a low CPU footprint, especially compared with Skype.</p>
<p>However, there’s a couple of major issues with it. First off, it makes the rest of the computer quieter which makes it difficult to work or do anything else while on the call. For example, we can’t really watch a movie together (audio is dimmed). The second is a feature request. I would love the “floating” window feature from Skype.</p>
<p>And we’re done. I’m going to tweak the same script to auto answer Skype next. Hopefully this comes built in with future versions of video chat clients. It’s such a basic feature that it’s exclusion makes me ponder the disconnect between the teams creating the software and reality.</p>
</div><hr data-reactid="22"/><p data-reactid="23"><strong data-reactid="24">Questions?</strong><!-- react-text: 25 --> <!-- /react-text --><!-- react-text: 26 -->Ask me on<!-- /react-text --><!-- react-text: 27 --> <!-- /react-text --><a href="https://twitter.com/blakeembrey" data-reactid="28">Twitter</a><!-- react-text: 29 --> <!-- /react-text --><!-- react-text: 30 -->or in<!-- /react-text --><!-- react-text: 31 --> <!-- /react-text --><a href="https://github.com/blakeembrey/knowledge" data-reactid="32">my repo</a><!-- react-text: 33 -->.<!-- /react-text --></p></div></div></div></div></div><script src="/bundle.js?t=1491834725750"></script></body></html>