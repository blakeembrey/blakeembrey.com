extends layout

block append vars
  - var bodyclass = 'article'
  - var fullUri = blog.uri + '/' + path

block prepend title
  | #{title + " â€¢ "}

block prepend header
  a.home.icon-home.back-to-home(href='/', title=blog.title)

block header
  header.header.container
    small.header-metadata
      time.timestamp(datetime=date)= moment(date).format('MMMM D, YYYY')
    h1.header-title= title
    div.header-more
      if github
        a.btn.btn-small.btn-github(href='https://github.com/' + github)
          | View on GitHub
      if npm
        a.btn.btn-small.btn-npm(href='http://npmjs.org/package/' + npm)
          | View on npm

block content
  article.content-article!= contents

  div.content-share.cf
    if integrations.coinbase
      div.tip-button
        div.cb-tip-button(data-content-location=fullUri, data-href='//www.coinbase.com/tip_buttons/show_tip' data-to-user-id=integrations.coinbase)

    if integrations.facebook
      div.social-button
        div.fb-share-button(data-href=fullUri, data-layout="button_count")

    if integrations.twitter
      div.social-button
        a.twitter-share-button(href='https://twitter.com/share', data-url=fullUri, data-text=title, data-via=integrations.twitter)
          | Tweet

  if integrations.disqus
    div#disqus_thread

    script.
      //- Disqus code snippet
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//#{integrations.disqus}.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();

  if integrations.coinbase
    script.
      !function(d,s,id) {var js,cjs=d.getElementsByTagName(s)[0],e=d.getElementById(id);if(e){return;}js=d.createElement(s);js.id=id;js.src="https://www.coinbase.com/assets/tips.js";cjs.parentNode.insertBefore(js,cjs);}(document, 'script', 'coinbase-tips');

  if integrations.twitter
    script.
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');

  if integrations.facebook
    div#fb-root

    script.
      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
